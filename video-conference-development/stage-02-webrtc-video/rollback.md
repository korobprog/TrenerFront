# Инструкции для отката этапа 2

## Процедура отката

В случае необходимости отката изменений этапа 2:

### 1. Остановка WebRTC сервисов

```bash
# Остановить signaling сервер
pm2 stop signaling-server
# Остановить основное приложение
npm run stop
```

### 2. Восстановление базы данных

```bash
# Восстановить из резервной копии
./backups/restore-script.sh stage-02-backup
```

### 3. Откат WebRTC компонентов

```bash
# Удалить WebRTC компоненты
rm -rf components/webrtc/
rm -rf pages/api/webrtc/
rm -rf lib/webrtc/
```

### 4. Восстановление конфигурации

```bash
# Восстановить package.json
git checkout HEAD~1 -- package.json
# Восстановить конфигурацию сокетов
git checkout HEAD~1 -- socket.config.js
```

## Контрольные точки

- Резервная копия перед добавлением WebRTC
- Снимок состояния без видеочата
- Конфигурация signaling сервера

## Проверка после отката

- [ ] Приложение работает без WebRTC
- [ ] Нет ошибок в консоли
- [ ] Базовая функциональность сохранена
