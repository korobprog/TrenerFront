# –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –≤–∏–¥–µ–æ—Å–∏—Å—Ç–µ–º—ã

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏–Ω—Ç–µ—Ä–≤—å—é —Å –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –≤–∏–¥–µ–æ—Å–∏—Å—Ç–µ–º–æ–π –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –æ—à–∏–±–∫–∞ "–í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ –±—É–¥—É—â–µ–º", –¥–∞–∂–µ –∫–æ–≥–¥–∞ –≤—ã–±–∏—Ä–∞–ª–∞—Å—å –¥–∞—Ç–∞ 30 –º–∞—è 2025 –≥. –∏ –≤—Ä–µ–º—è 09:00, –ø—Ä–∏ —Ç–æ–º —á—Ç–æ —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è –±—ã–ª–æ 23:32.

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–ª –≤—Ä–µ–º—è 09:00 –Ω–∞ –¥–∞—Ç—É 30.05.2025, –Ω–æ —Å–∏—Å—Ç–µ–º–∞ –æ—Ç–∫–ª–æ–Ω—è–ª–∞ –∑–∞–ø—Ä–æ—Å, —Å—á–∏—Ç–∞—è —ç—Ç–æ –≤—Ä–µ–º—è —É–∂–µ –ø—Ä–æ—à–µ–¥—à–∏–º.

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã

### –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. **–ü—Ä–æ–±–ª–µ–º–∞ —Å —á–∞—Å–æ–≤—ã–º–∏ –ø–æ—è—Å–∞–º–∏** - –ö–ª–∏–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–ª –≤—Ä–µ–º—è –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º —á–∞—Å–æ–≤–æ–º –ø–æ—è—Å–µ, –Ω–æ —Å–µ—Ä–≤–µ—Ä –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞–ª –µ–≥–æ –∫–∞–∫ UTC
2. **–°—Ç—Ä–æ–≥–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏** - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `startTime <= now` –±–µ–∑ –±—É—Ñ–µ—Ä–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
3. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è** - –°–ª–æ–∂–Ω–æ –±—ã–ª–æ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏—á–∏–Ω—É –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Å—Ç–æ–≤:

```
–¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è —Å–µ—Ä–≤–µ—Ä–∞: 2025-05-30T20:37:44.128Z (23:37:44 MSK)

–¢–µ—Å—Ç 1: 30.05.2025 09:00 UTC (12:00 MSK)
- –†–µ–∑—É–ª—å—Ç–∞—Ç: ‚ùå –û–®–ò–ë–ö–ê (–≤—Ä–µ–º—è —É–∂–µ –ø—Ä–æ—à–ª–æ)
- –†–∞–∑–Ω–∏—Ü–∞: -11.63 —á–∞—Å–æ–≤

–¢–µ—Å—Ç 2: 30.05.2025 06:00 UTC (09:00 MSK)
- –†–µ–∑—É–ª—å—Ç–∞—Ç: ‚ùå –û–®–ò–ë–ö–ê (–≤—Ä–µ–º—è —É–∂–µ –ø—Ä–æ—à–ª–æ)
- –†–∞–∑–Ω–∏—Ü–∞: -14.63 —á–∞—Å–æ–≤

–¢–µ—Å—Ç 3: 31.05.2025 06:00 UTC (09:00 MSK –∑–∞–≤—Ç—Ä–∞)
- –†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ –£–°–ü–ï–•
- –†–∞–∑–Ω–∏—Ü–∞: +9.37 —á–∞—Å–æ–≤
```

## üõ†Ô∏è –í–Ω–µ—Å–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –£–ª—É—á—à–µ–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ –≤ `pages/api/video-conferences.js`

**–ë—ã–ª–æ:**

```javascript
if (startTime <= now) {
  return res.status(400).json({ error: '–í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ –±—É–¥—É—â–µ–º' });
}
```

**–°—Ç–∞–ª–æ:**

```javascript
const bufferMinutes = 1; // –ë—É—Ñ–µ—Ä–Ω–æ–µ –≤—Ä–µ–º—è –≤ –º–∏–Ω—É—Ç–∞—Ö
const minValidTime = new Date(now.getTime() + bufferMinutes * 60 * 1000);

if (startTime < minValidTime) {
  const errorMessage = `–í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–∏–Ω–∏–º—É–º —á–µ—Ä–µ–∑ ${bufferMinutes} –º–∏–Ω—É—Ç—É –≤ –±—É–¥—É—â–µ–º`;
  return res.status(400).json({
    error: errorMessage,
    details: {
      scheduledTime: startTime.toISOString(),
      currentTime: now.toISOString(),
      minValidTime: minValidTime.toISOString(),
      differenceMinutes: (
        (startTime.getTime() - now.getTime()) /
        (1000 * 60)
      ).toFixed(2),
    },
  });
}
```

### 2. –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

```javascript
console.log('API video-conferences: –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞—á–∞–ª–∞', {
  originalInput: scheduledStartTime,
  parsedStartTime: startTime.toISOString(),
  currentServerTime: now.toISOString(),
  minValidTime: minValidTime.toISOString(),
  startTimeLocal: startTime.toLocaleString('ru-RU', {
    timeZone: 'Europe/Moscow',
  }),
  currentTimeLocal: now.toLocaleString('ru-RU', { timeZone: 'Europe/Moscow' }),
  differenceMinutes: (
    (startTime.getTime() - now.getTime()) /
    (1000 * 60)
  ).toFixed(2),
  isValid: startTime >= minValidTime,
  timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
});
```

### 3. –£–ª—É—á—à–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤ `pages/api/mock-interviews/index.js`

–î–æ–±–∞–≤–ª–µ–Ω–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –≤–∏–¥–µ–æ—Å–∏—Å—Ç–µ–º—ã:

```javascript
console.log('API: –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –≤–∏–¥–µ–æ—Å–∏—Å—Ç–µ–º—ã', {
  originalScheduledTime: scheduledTime,
  parsedScheduledTime: scheduledDate.toISOString(),
  currentTime: now.toISOString(),
  scheduledTimeLocal: scheduledDate.toLocaleString('ru-RU', {
    timeZone: 'Europe/Moscow',
  }),
  currentTimeLocal: now.toLocaleString('ru-RU', { timeZone: 'Europe/Moscow' }),
  differenceHours: (
    (scheduledDate.getTime() - now.getTime()) /
    (1000 * 60 * 60)
  ).toFixed(2),
  isInFuture: scheduledDate > now,
});
```

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### –¢–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏:

```
=== –¢–ï–°–¢ –ò–°–ü–†–ê–í–õ–ï–ù–ù–û–ô –í–ê–õ–ò–î–ê–¶–ò–ò –í–†–ï–ú–ï–ù–ò ===

‚úÖ –ó–∞–≤—Ç—Ä–∞ 09:00 MSK - –£–°–ü–ï–• (—Ä–∞–∑–Ω–∏—Ü–∞: 558.80 –º–∏–Ω—É—Ç)
‚úÖ –ß–µ—Ä–µ–∑ 2 —á–∞—Å–∞ - –£–°–ü–ï–• (—Ä–∞–∑–Ω–∏—Ü–∞: 120.00 –º–∏–Ω—É—Ç)
‚úÖ –ß–µ—Ä–µ–∑ 5 –º–∏–Ω—É—Ç - –£–°–ü–ï–• (—Ä–∞–∑–Ω–∏—Ü–∞: 5.00 –º–∏–Ω—É—Ç)
‚úÖ –ß–µ—Ä–µ–∑ 30 —Å–µ–∫—É–Ω–¥ - –û–¢–ö–õ–û–ù–ï–ù–û –∫–∞–∫ –æ–∂–∏–¥–∞–ª–æ—Å—å (–º–µ–Ω—å—à–µ –±—É—Ñ–µ—Ä–∞)
‚úÖ –í—á–µ—Ä–∞ - –û–¢–ö–õ–û–ù–ï–ù–û –∫–∞–∫ –æ–∂–∏–¥–∞–ª–æ—Å—å (–≤—Ä–µ–º—è –≤ –ø—Ä–æ—à–ª–æ–º)
```

### –¢–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω—Ç–µ—Ä–≤—å—é:

```
‚úÖ –ó–∞–≤—Ç—Ä–∞ 09:00 MSK - –í—Ä–µ–º—è –≤–∞–ª–∏–¥–Ω–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω—Ç–µ—Ä–≤—å—é
‚úÖ –ß–µ—Ä–µ–∑ 2 —á–∞—Å–∞ - –í—Ä–µ–º—è –≤–∞–ª–∏–¥–Ω–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω—Ç–µ—Ä–≤—å—é
```

## üéØ –ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **–ë—É—Ñ–µ—Ä–Ω–æ–µ –≤—Ä–µ–º—è:** –î–æ–±–∞–≤–ª–µ–Ω–∞ 1-–º–∏–Ω—É—Ç–Ω–∞—è –∑–∞—â–∏—Ç–∞ –æ—Ç —Å–æ–∑–¥–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π –≤ –±–ª–∏–∂–∞–π—à–µ–º –±—É–¥—É—â–µ–º
2. **–î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ä–µ–º–µ–Ω–∏
3. **–£–ª—É—á—à–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö:** –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–∏—á–∏–Ω–∞—Ö –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è
4. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —á–∞—Å–æ–≤—ã—Ö –ø–æ—è—Å–æ–≤:** –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤ UTC –∏ –º–æ—Å–∫–æ–≤—Å–∫–æ–º –≤—Ä–µ–º–µ–Ω–∏
5. **–ì–∏–±–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è:** –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å `<=` –Ω–∞ `<` —Å —É—á–µ—Ç–æ–º –±—É—Ñ–µ—Ä–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

- `pages/api/video-conferences.js` - –æ—Å–Ω–æ–≤–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏
- `pages/api/mock-interviews/index.js` - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã:

- `test-built-in-video-fix.js` - –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã
- `test-video-time-validation.js` - –ø–µ—Ä–≤–∏—á–Ω—ã–π –∞–Ω–∞–ª–∏–∑
- `test-fixed-video-validation.js` - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

## üìä –í–ª–∏—è–Ω–∏–µ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ:** –î–æ–±–∞–≤–ª–µ–Ω–æ —Ç–æ–ª—å–∫–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø—Ä–æ—Å—Ç—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –ë—É—Ñ–µ—Ä–Ω–æ–µ –≤—Ä–µ–º—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –≤ –±–ª–∏–∂–∞–π—à–µ–º –ø—Ä–æ—à–ª–æ–º
- **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:** –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –ø–æ–º–æ–≥–∞—é—Ç –±—ã—Å—Ç—Ä–æ –≤—ã—è–≤–ª—è—Ç—å –ø—Ä–æ–±–ª–µ–º—ã

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

1. **–û—Ç–ø—Ä–∞–≤–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –≤ UTC:** –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∫–ª–∏–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Ä–µ–º—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ UTC
2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ –¥–µ—Ç–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
3. **–í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ:** –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –≤—Ä–µ–º–µ–Ω–∏ —Å —É—á–µ—Ç–æ–º –±—É—Ñ–µ—Ä–∞

## ‚ú® –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü—Ä–æ–±–ª–µ–º–∞ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –≤–∏–¥–µ–æ–∫–æ–º–Ω–∞—Ç—ã **–ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞**. –°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å:

- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Ä–µ–º—è –≤ –±—É–¥—É—â–µ–º
- ‚úÖ –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –≤ –±–ª–∏–∂–∞–π—à–µ–º –ø—Ä–æ—à–ª–æ–º
- ‚úÖ –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ —á–∞—Å–æ–≤—ã–µ –ø–æ—è—Å–∞
- ‚úÖ –ò–º–µ–µ—Ç —É–ª—É—á—à–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Ç–µ–ø–µ—Ä—å –º–æ–≥—É—Ç —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä–≤—å—é —Å –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –≤–∏–¥–µ–æ—Å–∏—Å—Ç–µ–º–æ–π –Ω–∞ –ª—é–±–æ–µ –≤—Ä–µ–º—è –≤ –±—É–¥—É—â–µ–º, –≤–∫–ª—é—á–∞—è –∑–∞–≤—Ç—Ä–∞—à–Ω–∏–π –¥–µ–Ω—å –≤ 09:00 MSK.
