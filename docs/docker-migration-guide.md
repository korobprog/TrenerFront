# Инструкция по переносу Docker контейнеров на другой диск

Эта инструкция поможет вам перенести Docker контейнеры проекта TrenerFront на другой диск (E:\Вос\Git).

## Предварительные требования

1. Docker Desktop должен быть установлен на вашем компьютере
2. Проект TrenerFront должен быть клонирован на ваш компьютер
3. Диск E:\ должен быть доступен для записи

## Шаги по переносу

### 1. Подготовка

Перед началом переноса рекомендуется сделать резервную копию данных, если у вас есть важные данные в базе данных PostgreSQL.

### 2. Запуск скрипта переноса

1. Откройте командную строку (cmd) от имени администратора
2. Перейдите в директорию проекта TrenerFront
3. Запустите скрипт переноса:

```
scripts\docker\move-docker-data.bat
```

Скрипт выполнит следующие действия:

- Остановит все Docker контейнеры
- Создаст необходимые директории на диске E:\Вос\Git
- Создаст новый файл docker-compose.yml с обновленными путями
- Скопирует скрипты управления Docker
- Создаст скрипт для запуска Docker из нового расположения

### 3. Запуск Docker из нового расположения

После завершения работы скрипта:

1. Запустите Docker Desktop
2. Запустите файл `E:\Вос\Git\start-docker.bat`

Это запустит Docker контейнеры из нового расположения.

### 4. Проверка работоспособности

Чтобы убедиться, что перенос прошел успешно:

1. Откройте браузер и перейдите по адресу http://localhost:8080
2. Войдите в pgAdmin, используя следующие учетные данные:
   - Email: admin@example.com
   - Пароль: admin
3. Подключитесь к серверу PostgreSQL и проверьте, что все данные доступны

## Возможные проблемы и их решения

### Проблема: Docker не может найти файл docker-compose.yml

**Решение**: Убедитесь, что вы запускаете команды из директории `E:\Вос\Git`, где находится новый файл docker-compose.yml.

### Проблема: Ошибка доступа при создании директорий

**Решение**: Запустите командную строку от имени администратора и повторите попытку.

### Проблема: Docker контейнеры не запускаются

**Решение**:

1. Проверьте, запущен ли Docker Desktop
2. Проверьте логи Docker, выполнив команду `docker-compose logs` в директории `E:\Вос\Git`
3. Убедитесь, что порты 5432 и 8080 не заняты другими приложениями

### Проблема: Данные не отображаются в pgAdmin

**Решение**: Возможно, данные не были перенесены. В этом случае вам нужно будет вручную скопировать данные из старого расположения в новое.

## Дополнительная информация

### Структура директорий после переноса

```
E:\Вос\Git\
├── docker-compose.yml
├── docker-data\
│   ├── postgres\
│   └── pgadmin\
├── scripts\
│   └── docker\
│       ├── docker-control.bat
│       └── update-db.bat
└── start-docker.bat
```

### Управление Docker контейнерами

Для управления Docker контейнерами вы можете использовать скрипт:

```
E:\Вос\Git\scripts\docker\docker-control.bat
```

Этот скрипт предоставляет удобный интерфейс для запуска, остановки и перезапуска контейнеров.

## Возврат к исходному расположению

Если вам нужно вернуться к исходному расположению:

1. Остановите Docker контейнеры в новом расположении
2. Запустите Docker Desktop
3. Перейдите в директорию проекта TrenerFront
4. Запустите команду `docker-compose up -d`
