# –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –æ—à–∏–±–∫–∏ 400 –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏–Ω—Ç–µ—Ä–≤—å—é —Å –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –≤–∏–¥–µ–æ—Å–∏—Å—Ç–µ–º–æ–π

## –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã

### –û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏

- **–°—Ç–∞—Ç—É—Å**: 400 (Bad Request)
- **–ö–æ–Ω—Ç–µ–∫—Å—Ç**: –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä–≤—å—é —Å –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –≤–∏–¥–µ–æ—Å–∏—Å—Ç–µ–º–æ–π (videoType: 'built_in')
- **–ú–µ—Å—Ç–æ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è**: –ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ POST –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ `/api/mock-interviews`

### –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞

#### 1. –ü–æ—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

```
pages/mock-interviews/new.js (—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥)
  ‚Üì POST /api/mock-interviews
pages/api/mock-interviews/index.js
  ‚Üì –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∑–∞–ø—Ä–æ—Å POST /api/video-conferences
pages/api/video-conferences.js
  ‚Üì –°–æ–∑–¥–∞–Ω–∏–µ VideoRoom –≤ –ë–î
```

#### 2. –î–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å–∞

**–§—Ä–æ–Ω—Ç–µ–Ω–¥ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç:**

```json
{
  "scheduledTime": "2025-05-30T22:45:55.939Z",
  "videoType": "built_in"
}
```

**API mock-interviews —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –¥–ª—è video-conferences:**

```json
{
  "name": "–°–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–µ 31.05.2025",
  "description": "–°–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ 31.05.2025, 01:45:55",
  "isPrivate": true,
  "maxParticipants": 2,
  "scheduledStartTime": "2025-05-30T22:45:55.939Z",
  "recordingEnabled": false,
  "settings": {
    "allowScreenShare": true,
    "allowChat": true,
    "autoRecord": false
  }
}
```

### –í–æ–∑–º–æ–∂–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –ø—Ä–æ–±–ª–µ–º—ã

#### üî¥ –ù–ê–ò–ë–û–õ–ï–ï –í–ï–†–û–Ø–¢–ù–´–ï –ü–†–ò–ß–ò–ù–´:

1. **–ü—Ä–æ–±–ª–µ–º–∞ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –≤—Ä–µ–º–µ–Ω–∏ –≤ API video-conferences**

   - –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç—Ä–µ–±—É–µ—Ç –≤—Ä–µ–º—è –º–∏–Ω–∏–º—É–º —á–µ—Ä–µ–∑ 1 –º–∏–Ω—É—Ç—É –≤ –±—É–¥—É—â–µ–º
   - –í–æ–∑–º–æ–∂–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å —á–∞—Å–æ–≤—ã–º–∏ –ø–æ—è—Å–∞–º–∏
   - –†–∞–∑–Ω–∏—Ü–∞ –≤–æ –≤—Ä–µ–º–µ–Ω–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–µ—Ä–∞–º–∏

2. **–ü—Ä–æ–±–ª–µ–º—ã —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π –ø—Ä–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º –∑–∞–ø—Ä–æ—Å–µ**
   - Cookie –Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º fetch
   - –°–µ—Å—Å–∏—è –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç—Å—è –≤ API video-conferences

#### üü° –î–†–£–ì–ò–ï –í–û–ó–ú–û–ñ–ù–´–ï –ü–†–ò–ß–ò–ù–´:

3. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π**

   - –ü–æ–ª–µ `hostId` –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –≤ —Å–µ—Å—Å–∏–∏

4. **–û—à–∏–±–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**

   - –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –≤ —Å—Ö–µ–º–µ VideoRoom
   - –ü—Ä–æ–±–ª–µ–º—ã —Å Prisma

5. **–ü—Ä–æ–±–ª–µ–º—ã —Å —Ñ–æ—Ä–º–∞—Ç–æ–º –¥–∞–Ω–Ω—ã—Ö**
   - –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç `scheduledStartTime`
   - –û—à–∏–±–∫–∏ –≤ JSON —Å—Ç—Ä—É–∫—Ç—É—Ä–µ

### –î–æ–±–∞–≤–ª–µ–Ω–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

#### –í API video-conferences:

- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–æ–ª–µ–π
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è –≤ –ë–î
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫

#### –í API mock-interviews:

- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ –∫ video-conferences
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞ –∏ –æ—à–∏–±–æ–∫

### –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

1. **debug-interview-creation.js** - –ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö
2. **test-interview-creation-debug.js** - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API endpoints

## –î–∏–∞–≥–Ω–æ–∑

### –ü–µ—Ä–≤–∏—á–Ω—ã–π –¥–∏–∞–≥–Ω–æ–∑

**–ù–∞–∏–±–æ–ª–µ–µ –≤–µ—Ä–æ—è—Ç–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞**: –ü—Ä–æ–±–ª–µ–º–∞ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –≤—Ä–µ–º–µ–Ω–∏ –≤ API video-conferences –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π –ø—Ä–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º –∑–∞–ø—Ä–æ—Å–µ.

### –í—Ç–æ—Ä–∏—á–Ω—ã–π –¥–∏–∞–≥–Ω–æ–∑

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞**: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ `hostId` –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Å—Å–∏–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ä–µ–º–µ–Ω–∏

```javascript
// –í API video-conferences –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª–µ–µ –≥–∏–±–∫—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é
const bufferMinutes = 0.5; // –£–º–µ–Ω—å—à–∏—Ç—å –±—É—Ñ–µ—Ä –¥–æ 30 —Å–µ–∫—É–Ω–¥
```

### –®–∞–≥ 2: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

```javascript
// –í API mock-interviews —É–ª—É—á—à–∏—Ç—å –ø–µ—Ä–µ–¥–∞—á—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
headers: {
  'Content-Type': 'application/json',
  'Cookie': req.headers.cookie || '',
  'Authorization': req.headers.authorization || '',
}
```

### –®–∞–≥ 3: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ fallback –ª–æ–≥–∏–∫–∏

```javascript
// –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º —Å–æ–∑–¥–∞–Ω–∏—è VideoRoom
if (!videoRoomResponse.ok) {
  // –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–æ–∑–¥–∞—Ç—å —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
  // –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥
}
```

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –æ—à–∏–±–∫—É
2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏** —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏–Ω—Ç–µ—Ä–≤—å—é
3. **–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –¥–∏–∞–≥–Ω–æ–∑** –Ω–∞ –æ—Å–Ω–æ–≤–µ –ª–æ–≥–æ–≤
4. **–ü—Ä–∏–º–µ–Ω–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è** —Å–æ–≥–ª–∞—Å–Ω–æ –¥–∏–∞–≥–Ω–æ–∑—É
5. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å** –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

## –§–∞–π–ª—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

- `pages/api/video-conferences.js` - –û—Å–Ω–æ–≤–Ω—ã–µ –ª–æ–≥–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- `pages/api/mock-interviews/index.js` - –õ–æ–≥–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
- –ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ - –û—à–∏–±–∫–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
- –õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ Next.js - –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
